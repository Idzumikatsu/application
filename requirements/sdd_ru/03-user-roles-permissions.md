# Модель ролей и прав доступа пользователей

## Иерархия ролей
1. **Администратор** - Высший уровень доступа
2. **Менеджер** - Операционный уровень доступа
3. **Преподаватель** - Ограниченный доступ к собственным данным
4. **Студент** - Минимальный доступ только через Telegram-бот

## Детализированные права доступа

### Администратор
- **Управление пользователями**
  - Создание/удаление менеджеров
  - Просмотр/редактирование всех менеджеров
  - Сброс паролей менеджеров
  - Создание/удаление преподавателей
  - Просмотр/редактирование всех преподавателей
  - Сброс паролей преподавателей

- **Управление студентами**
  - Полный доступ ко всем студентам
  - Назначение/отмена назначения преподавателей студентам
  - Просмотр всех пакетов уроков студентов

- **Управление системой**
  - Доступ ко всем информационным панелям и отчетам
  - Настройка системных параметров
  - Просмотр всех запланированных уроков
  - Переопределение любого статуса урока

### Менеджер
- **Управление студентами**
  - Создание/редактирование/удаление студентов
  - Просмотр всех студентов
  - Управление пакетами уроков студентов (добавление, просмотр остатка)
  - Назначение/отмена назначения преподавателей студентам

- **Управление преподавателями**
  - Создание преподавателей
  - Просмотр всех преподавателей и их доступности
  - Просмотр календарей преподавателей
  - Отправка сообщений преподавателям

- **Управление уроками**
  - Планирование уроков для любых студентов с любыми преподавателями
  - Отмена/перенос уроков
  - Просмотр всех запланированных уроков
  - Переопределение статусов уроков
  - Подтверждение завершения уроков

- **Отчетность**
  - Доступ к информационным панелям для назначенных студентов
  - Экспорт данных студентов/преподавателей

### Преподаватель
- **Управление доступностью**
  - Создание/удаление собственных слотов доступности (только для свободных слотов)
  - Просмотр собственного календаря доступности

- **Информация о студентах**
  - Просмотр списка назначенных студентов
  - Добавление/редактирование заметок для назначенных студентов
  - Просмотр истории уроков с назначенными студентами

- **Информация об уроках**
  - Просмотр собственных запланированных уроков
  - Подтверждение завершения уроков
  - Запрос переноса уроков (через уведомление менеджеру)

- **Управление профилем**
  - Обновление собственной информации профиля
  - Обновление собственного подключения к Telegram

### Студент
- **Ограниченный доступ**
  - Нет прямого доступа к веб-приложению
  - Взаимодействие только через Telegram-бот
  - Просмотр собственных предстоящих уроков
  - Отмена собственных уроков (с ограничениями по времени)
  - Получение уведомлений

## Реализация контроля доступа
- **Утверждения токенов JWT**: Каждый токен будет содержать роль пользователя и права доступа
- **Безопасность на уровне методов**: Использование аннотаций Spring Security (@PreAuthorize)
- **Права доступа на уровне пользовательского интерфейса**: Фронтенд будет показывать/скрывать элементы в зависимости от роли пользователя
- **Права доступа на уровне API**: Все конечные точки будут проверять права доступа пользователя